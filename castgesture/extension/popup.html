<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    width: 320px; min-height: 400px;
    background: #0f0f14; color: #e2e8f0;
    font-family: 'Segoe UI', system-ui, sans-serif;
    font-size: 13px;
  }
  .header {
    padding: 16px; text-align: center;
    background: linear-gradient(135deg, rgba(168,85,247,0.15), rgba(6,182,212,0.1));
    border-bottom: 1px solid rgba(168,85,247,0.2);
  }
  .header h1 {
    font-size: 18px; font-weight: 700;
    background: linear-gradient(135deg, #a855f7, #06b6d4);
    -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  }
  .header p { font-size: 11px; color: #94a3b8; margin-top: 4px; }

  .section { padding: 16px; border-bottom: 1px solid #1a1a2e; }
  .section h2 { font-size: 12px; color: #94a3b8; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 12px; }

  .toggle-row {
    display: flex; align-items: center; justify-content: space-between;
  }
  .toggle-row label { font-size: 14px; font-weight: 500; }
  .toggle {
    position: relative; width: 44px; height: 24px;
  }
  .toggle input { opacity: 0; width: 0; height: 0; }
  .toggle .slider {
    position: absolute; top: 0; left: 0; right: 0; bottom: 0;
    background: #1a1a2e; border: 1px solid #2d2d44;
    border-radius: 24px; cursor: pointer; transition: 0.2s;
  }
  .toggle .slider::before {
    content: ''; position: absolute; width: 18px; height: 18px;
    left: 2px; bottom: 2px; background: #94a3b8;
    border-radius: 50%; transition: 0.2s;
  }
  .toggle input:checked + .slider { background: #a855f7; border-color: #a855f7; }
  .toggle input:checked + .slider::before { transform: translateX(20px); background: white; }

  .gesture-display {
    text-align: center; padding: 20px;
    font-size: 36px; min-height: 80px;
    display: flex; align-items: center; justify-content: center;
    flex-direction: column; gap: 4px;
  }
  .gesture-label { font-size: 12px; color: #94a3b8; }

  .mapping {
    display: flex; align-items: center; justify-content: space-between;
    padding: 8px 0; border-bottom: 1px solid #1a1a2e;
  }
  .mapping:last-child { border: none; }
  .mapping .icon { font-size: 20px; margin-right: 8px; }
  .mapping .name { flex: 1; font-weight: 500; }
  .mapping select {
    background: #1a1a2e; border: 1px solid #2d2d44; color: #e2e8f0;
    padding: 4px 8px; border-radius: 6px; font-size: 12px;
  }

  .test-btn {
    width: 100%; padding: 10px; margin-top: 8px;
    background: linear-gradient(135deg, #a855f7, #7c3aed);
    color: white; border: none; border-radius: 8px;
    font-size: 13px; font-weight: 600; cursor: pointer;
  }
  .test-btn:hover { filter: brightness(1.1); }

  .footer { padding: 12px 16px; text-align: center; }
  .footer a { color: #06b6d4; font-size: 11px; }
</style>
</head>
<body>
<div class="header">
  <h1>ðŸ¤š CastGesture</h1>
  <p>Gesture effects for video calls</p>
</div>

<div class="section">
  <div class="toggle-row">
    <label>Enable Effects</label>
    <label class="toggle">
      <input type="checkbox" id="enabled" checked>
      <span class="slider"></span>
    </label>
  </div>
</div>

<div class="section">
  <h2>Active Gesture</h2>
  <div class="gesture-display" id="gesture-display">
    <span>ðŸ‘‹</span>
    <span class="gesture-label">Waiting...</span>
  </div>
</div>

<div class="section">
  <h2>Gesture Mappings</h2>
  <div id="mappings"></div>
</div>

<div class="section">
  <button class="test-btn" id="test-btn">âœ¨ Test Confetti Effect</button>
</div>

<div class="footer">
  <a href="https://github.com/yourorg/castgesture" target="_blank">CastGesture v1.0</a>
</div>

<script src="popup.js"></script>
</body>
</html>
